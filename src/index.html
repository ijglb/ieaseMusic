
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>ieaseMusic</title>
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
</head>
<body>
    <div id="root"></div>
    <script>
        if (process.env.HOT) {
            let script = document.createElement('script');
            let port = process.env.PORT || 3001;

            script.async = '';
            script.src = `http://localhost:${port}/dist/main.js`;

            document.body.appendChild(script);
        }

        document.addEventListener('dragover', e => e.preventDefault(), false);
        document.addEventListener('drop', e => e.preventDefault(), false);
        //拖拽窗口
        let dragging = false;
        const mainWindow = require('electron').remote.getCurrentWindow();
        document.addEventListener('mousedown', e => {
            dragging = true;
        });
        document.addEventListener('mouseup',  () => {
            dragging = false;
        });
        document.addEventListener('mouseleave',  () => {
            dragging = false;
        });
        document.addEventListener('mousemove', e => {
            if(dragging){
                let pos = mainWindow.getPosition();
                mainWindow.setPosition(pos[0] + e.movementX, pos[1] + e.movementY, true);
            }
        });
    </script>
</body>
</html>
